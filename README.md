# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами


## Архитектура приложения

* **Паттерн:** MVVM с брокером событий (EventEmitter)
* **Слои приложения:**

  * **Model:** обработка и хранение данных (`src/common.blocks`, `src/utils`)
  * **View:** отображение данных (`src/components`, `src/pages`)
  * **ViewModel/Controller:** связывает модель и представление через события (`src/utils/eventBus`)

## Стек технологий

* **HTML**: структура страниц (`src/pages`)
* **SCSS**: стилизация (`src/scss`)
* **TypeScript**: типизация и логика (`src/index.ts`, `src/utils`)
* **Webpack**: сборка проекта (`webpack.config.js`)


### Установить зависимости:

```bash
yarn install
```

### Запустить в режиме разработки:

```bash
yarn start
```

### Собрать продакшн-версию:

```bash
yarn build
```

## Описание базовых классов

### EventEmitter (`src/utils/eventBus.ts`)

Обеспечивает работу событий:

* Регистрация и снятие слушателей
* Генерация и рассылка событий

### ApiClient (`src/utils/apiClient.ts`)

Отвечает за HTTP-запросы к серверу:

* Методы: `GET`, `POST`, `PUT`, `DELETE`
* Обработка ошибок и ответов

## Описание компонентов

### Компонент Film (`src/components/Film`)

Отображает карточку фильма с информацией:

* Постер
* Название
* Описание
* Кнопки действий (`Favorite`, `Details`) с использованием компонента `Button`

### Компонент Button (`src/components/Button`)

Универсальная кнопка:

* Состояния: `disabled`, `loading`
* Обработчики событий клика

### Прочие компоненты

* **Hero:** главный баннер на странице
* **MovieList:** список фильмов
* **Modal:** всплывающее окно для деталей

## Типы данных (`src/types`)

* **ApiTypes:** интерфейсы данных, приходящих с API (`Movie`, `User` и т.д.)
* **ModelTypes:** внутренние модели приложения
* **ViewTypes:** пропсы и состояния компонентов
* **EventTypes:** перечисление имен событий и их интерфейсы

## Взаимодействие компонентов

1. **Инициализация:** ViewModel запрашивает данные через `ApiClient`
2. **Обработка:** Model сохраняет данные и генерирует событие `data:loaded`
3. **Отображение:** компоненты подписаны на события и обновляют UI
4. **Действия пользователя:** клики генерируют события, обрабатываемые ViewModel

